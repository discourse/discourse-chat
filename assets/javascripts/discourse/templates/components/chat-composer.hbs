{{#if replyToMsg}}
  {{chat-composer-message-details
    message=replyToMsg
    icon="reply"
    action=(action "cancelReplyTo")
    title="chat.cancel_reply"
  }}
{{/if}}
{{#if editingMessage}}
  {{chat-composer-message-details
    message=editingMessage
    icon="pencil-alt"
    action=(action "cancelEditing")
    title="chat.reply_edit"
  }}
{{/if}}
<div class="tc-composer-row">
  {{d-textarea
    value=(readonly value)
    input=(action "onTextareaInput" value="target.value")
    type="text"
    class="tc-composer-input"
    disabled=inputDisabled
    autocorrect="on"
    autocapitalize="off"
    placeholder=placeholder
    rows=1
  }}

  {{flat-button
    action=(action "uploadClicked")
    class="upload-btn"
    id="mobile-file-upload"
    icon="far-image"
    title="chat.upload"
  }}

  {{#if site.mobileView}}
    {{flat-button
      action=(action "sendClicked")
      class="mobile-send-btn"
      icon="play"
      disabled=sendDisabled
      title=sendTitle
    }}
  {{/if}}
</div>

<div class="tc-composer-uploads-container">
  <span class="btn uploading-indicator {{unless isUploading "hidden"}}">{{i18n "upload_selector.uploading"}} {{uploadProgress}}%</span>
  <span class="btn uploading-indicator {{unless isProcessingUpload "hidden"}}">{{i18n "upload_selector.processing"}}</span>
  <span role="button" onClick={{action "cancelUploads"}} class="btn btn-danger cancel-btn {{unless (or isUploading isProcessingUpload) "hidden"}}">{{i18n "cancel"}}</span>
</div>
<input type="file" id="file-uploader" accept={{acceptedFormats}} multiple>
